<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="bob.css"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="menu">
            <a class="menu__logo" href="../main_page/index.html">КИНОПОИСК</a>
            <ul class="menu__ul">
                <li class="menu__li"><a class="menu__link" href="index.html">Главное</a></li>
                <li class="menu__li"><a class="menu__link" href="../create_movie/my.html">Моё</a></li>
            </ul>
            <a class="menu__login" href="../authorization/index.html">Войти</a> </nav>
    </header>
    <main>
        <section class="content">
            <img src="https://kinopoisk-ru.clstorage.net/Ws292G387/bcfb25JGgG/T6EUUqPEANvyNCwI7V4VCLkYUN1t5g3qGVo0ZcncFV75fiXiLH21wJ6b_i3k4ULGLC4rL7hX7SE-xzC88mlySg35UwP8jx2Dr2pkF70GFVX1UgzaffxFuV1HJzWXgzpu0UwMkApCneCy-r1tpPsZmXNuOXLlFOc2LYdC0ed4ADBWqiJemfxB3vgOaT3AUR8url9T4UCiBMcAAjFqxNIBX-p-KaA8Qpb2jsKnYqOPJ7p_VTl65y3LbQ6Ffva-Qx8GcaM2UID1W8H1AE8Vx3kWGIZ7UetSpAblNQQ5Wu_LIlfyZxmeLFuA7rrOvmOgsyi1dHYge-kT1VkRvnzprUgFDl-GBHq33Gb70BNWNcFCOi-Gf2bgbI4M-SkNEWnxyzB_01sEjANDp9GJ4q9Lv5ADmlplAV_vIetZF6RY2rBdHiRToyJ6gdJo0eIAWBj4fAE9kVpfz32cGewuFC9t_scLYvlZBZ4NXq3ok_q_bLCdOrVoWR98_jPFUxaRWcaqcSogUIgnWITaeNHFKXgz3HkkP4tBffp4jTvqBBoUZczUAkT3eTSpB16u4ZP9k0-YoBqIVWsRaPwX3WEXvVTUv38eN12WAUuI0UDA0S9gFOVzHD-PYHXtcrMQ9yQkCUfDxQpU20MClSlmk8uU44RThJ44tV91DXjWFs13LIZNz5RAEwJtlANalPBox8I3WynNVTcYt1V7-VSMCOwFDhJCw_QfW_xnLbkIW439jMOpSJKjJopaazBazj7fcjq2V96RTx0WY6kre7Tdfu_CJXU17WAePJF-ev98gxzNHiIPYuzADVnefSKoIWOF5pDmqHO5lxSYWEIKdcsN3GkpolTjnnkuP3uYA1qb8WTE8BBMANx5Mj2LQE7faIU96QEGJ0_s9Qpy4mc2vAhittOs4otKkoIBnHJDIVzVM8VIEZ5S75JIJjZdmSRllcNd-dAlQwDeRBQ7tX1O63OOHPUZIxZa1toQQvJaLLYRY7vvksSjT6qMCqVJVgtp5DHDajOqd-WDXzcFT5cCdLngbMPmJUQyyH8nHqtOe_FfuT7eNxg-YtT6EEP9ehm_Bnyy4LPMm36cuRy5WUQqX-MF2HIRv3L7gmgrKlG1KGS-1Gz77BF4O_tVOQqVcWvtXbML3QUAPWHm3CRC_XQkvQx5u86z8oBOgL4_kk9lHF7tC85CL7lT6rRNCwNjkgl5lvxF4PsGUwLnWwsdjHhm13adE98sBTNk4dQgRfZ_AKktUqXsk_2mare4JZlTSiNa9ArmdBm2ZeGgfSIxdKsKZ7rzZdjfH3Qa5FgyGKJ1dvJ1oizGPx4UQ-PKEVzoYBu7D3qi15bZomOAnTuYT3IKTNkE_2gzv1bEllwkFGOFEUOW-Hni8zVAEuR_JQekXm_uVL8L1SgNNkrM8gdj9m89nQdDhvei3rx4tJkEo09mPn_eL-ppO7leyKpZCjJekgtapedI7u4vWjvkYj4kknJS0Em8BMUDDR5o9NQNRthkI4widJ7Rv9uHa7yAO7N1eAdwwzfedQ-DTveRUSAXe4wjWpPkT-HzEUE153s5B5Byfd5jpDjiKBg6RODhLmDCQgW8MnKu9574uUiAnheeencufN4J7VUehUTKnmU-Fl-uKkOFw0fF5SFnKe93Jz23Z0TNf4UPwjk2FE7F6yxpyWwrtwlBs8GMzIZSobcmm3B7IETaA_V7PqpQ6515KRNLmRpjls9n1dAWZyDJfhYjpX1_11uCA98uEgdDzeIiSNVXCb0VW7vhrfy8eaW3Hb9ydiZOxyzHYD6XftmlXSMPbpoDQrv_RMTFLFE--nQBBIxOZvpRrCHfDBQwfsPECVfZVSmkImq11pH7u0-9gBu5fEA7U_8W_GsYpnzcl0Q3L126AmS05kjFwQtOM8Z3GimYfl3fTIQG3iYvJ0TqwQ9A41wFoD18nemNw4ZSqr8XqEloAkXoH-VqJZl6wq9cAhBWqxFEosFh9PESUAvPUwgdokZ531qFJMk0NjlhwcsGQftlNI4WdIPPltqrfJ-fBYJ6SCRP2C_naBq0XsOsYTIFW4YqVZTCW_vXDWU36WoVJqN8dtVOmTDXBy4oVur3AHzUayyCC3GZy6PFuE6ephuIeEYbROMX-3kro2vCiG8LJXCGLXiH00Te_C5KCf51HiOJR0jAXZwewCoBHlb38it_0XompzNit_Kt27N4mpoRonBTCGrADvZ5K4Rq6KtKNyVemRBfm8NH_dMRZDDeXhk9qlBowk-ZB-Q-Ghp55MozXOljOKsmaK3Iv_O6a4W8OqVJUgxq6C7tdRa4VOC3Sh8vfYEIVL7HV9r6HVU_wVgfBad3VdVehQjNKgULS8n4B1XJfSSYEkS85pLQoVWytgWARGIwdesh1lIFtHTkk2U0EX-LEVKb03zR9QlMN_9dHBqHdGjiSog4wgofKW7zyR1UykQtgwRFseOf8IJPvY0jqFhLIkfDFORBKahQ4qFzNSF3ti1ggNpn3MEkSgvkSRY6t3tI0k6LLMwDNQZb4dk_SdprF4UQR6fBtuaQXou3B6dSYDx37xH1SS-GbMeCYjEIf5oiRbbVfcz0I0wAwHEcCKxMX9BbpwzLASIFadb6PVDIdCi6HUK9xpzshXmbgReRaG0Tc-Yy1kI-pl76qUczMUGMF1e400nY3AZKOfh5NSe7V0jKWJgY4hkgLlzu2RBh0W4smzZeuOCD3YRdnaITimtvLVTBBfRKMoBJ4pRFFzJLsyl6qfhJ2vQ9bwv-RTwCi31I2m6wHsQvOxZ65scDXPhKGq0OZJ3Ert-4XoOdGLVMZQ1N6gv6dDi1dMm2XwQ-Urk1XIHYYsflIXsc7mUUJaNaSvRWpQ_gNAczRM7-MUnHeDSLJnW-_47gonKRjwWeVGQ4R_sF_3sKinDkqmoVLVOGM0ah7Vnf-x1RMsZ4ARelXknTTp8o2yIYJX7T1SJV1Es0qTR4u-600KNJn7oximlJP2nhI-F-JaY" alt="Изображение фильма" class="content__image">
            <div class="content__text">
                <h2>Губка Боб квадратные штаны (сериал 1999 – ...)</h2>
                <p>Население подводного городка Бикини Боттом составляют разные морские обитатели. Среди них — лучший друг Спанч Боба, морская звезда по имени Патрик, раздражительный надменный кальмар Сквидвард и белка по имени Сэнди, которая тоже живёт под водой, используя гидрокостюм. Спанч Боб работает поваром в закусочной «Красти Краб», которой управляет старый скряга мистер Крабс.</p>
                <button id="watchButton" class="content__button">&#9658; Смотреть</button>
                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <div id="videoContainer"></div>
                    </div>
                </div>      
            </div>
        </section>

        <section class ="PeopleContent">
            <div class ="ActorPlace">
                <div class ="mainActor">
                    <h3>В главных ролях:</h3>
                    <ul class ="Actors">
                        <li class="Actor"><a class="Actor_link" href="#">Губка Боб</a></li>
                        <li class="Actor"><a class="Actor_link" href="#">Патрик</a></li>
                        <li class="Actor"><a class="Actor_link" href="#">Сквидвард</a></li>
                    </ul>
                </div>
                <div class ="director">
                    <h3>Режиссёры:</h3>
                    <ul class ="Actors">
                        <li class="Actor"><a class="Actor_link" href="#">Стивен Хилленбёрг</a></li>
                    </ul>
                </div>
                <div class = "Sub">
                    <h3>Озвучка:</h3>
                    <p>Русская</p>
                </div>
            </div>
        </section>
        <section class="reviewsContent">
            <div id="newReview">
            <h3>Добавить отзыв:</h3>
            <textarea class="textarea" id="reviewText" placeholder="Ваш отзыв"></textarea>
            <div class="half-stars">
                <div class="rating-group">
                    <!-- по умолчанию 0 -->
                    <input disabled checked name="hsr" value="0" type="radio">
                    
                    <!-- рейтинг 0.5 -->    
                    <label class="hsr" for="hsr-05">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-05" value="0.5" type="radio">
                    
                    <!-- рейтинг 1 -->    
                    <label for="hsr-10">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-10" value="1" type="radio">
                    
                    <!-- рейтинг 1.5 -->    
                    <label class="hsr" for="hsr-15">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"/></svg>        
                    </label>
                    <input name="hsr" id="hsr-15" value="1.5" type="radio">
                    
                    <!-- рейтинг 2 -->    
                    <label for="hsr-20">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-20" value="2" type="radio">
                    
                    <!-- рейтинг 2.5 -->    
                    <label class="hsr" for="hsr-25">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-25" value="2.5" type="radio">
                    
                    <!-- рейтинг 3 -->    
                    <label for="hsr-30">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-30" value="3" type="radio">
                    
                    <!-- рейтинг 3.5 -->    
                    <label class="hsr" for="hsr-35">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-35" value="3.5" type="radio">
                    
                    <!-- рейтинг 4 -->    
                    <label for="hsr-40">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-40" value="4" type="radio">
                    
                    <!-- рейтинг 4.5 -->    
                    <label class="hsr" for="hsr-45">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-45" value="4.5" type="radio">
                    
                    <!-- рейтинг 5 -->    
                    <label for="hsr-50">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>            
                    </label>
                    <input name="hsr" id="hsr-50" value="5" type="radio">
                </div>
            </div>
            <button class="btn_review" id="submitReview">Отправить</button>
            </div>
            <div class="reviews" id="reviewsContainer"></div>
        </section>
    </main>
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 Кинопоиск. У нас нет прав на него.</p>
        </div>
    </footer>
    <script>
        var modal = document.getElementById("myModal");
        var btn = document.getElementById("watchButton");
        var span = document.getElementsByClassName("close")[0];

        btn.onclick = function() {
            modal.style.display = "block";
            const iframe = document.createElement('iframe');
            iframe.width = "560";
            iframe.height = "315";
            iframe.src = "https://www.youtube.com/embed/Lw4bBLSJCwU?si=pu3DBxzo_jDfaZaw";
            iframe.title = "YouTube video player";
            iframe.frameborder = "0";
            iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
            iframe.allowFullscreen = true;
            document.getElementById('videoContainer').appendChild(iframe);
        }

        span.onclick = function() {
            modal.style.display = "none";
            document.getElementById('videoContainer').innerHTML = ''; // Очищаем контейнер после закрытия
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
                document.getElementById('videoContainer').innerHTML = ''; // Очищаем контейнер после закрытия
            }
        }
    </script>
<!-- <script>
    function displayReviews() {
        document.getElementById("reviewsContainer").innerHTML = ""; // Clear existing reviews
    
        fetch("http://localhost:8080/reviews")
        .then(response => {
            if (!response.ok) {
            return response.json().then(errorData => {
                const errorMessage = `Server error: ${errorData.message || JSON.stringify(errorData)}`;
                throw new Error(errorMessage);
            }).catch(err => {
                const errorMessage = `HTTP error! status: ${response.status}, details: ${err.message}`;
                throw new Error(errorMessage);
            });
            }
            return response.json();
        })
        .then(reviews => {
            reviews.forEach(review => {
            const reviewElement = document.createElement("div");
            reviewElement.innerHTML = `<b>${review.author}:</b> <p>${review.text}</p> <span>Оценка: ${review.rating}</span>`;
            document.getElementById("reviewsContainer").appendChild(reviewElement);
            });
        })
        .catch(error => {
            console.error("Error fetching reviews:", error);
            alert(`Error fetching reviews: ${error.message}`); // Show the actual error message
        });
    }
    
    function submitReview() {
        const reviewText = document.getElementById("reviewText").value;
        const ratingInput = document.querySelector('input[name="hsr"]:checked');
    
        if (!ratingInput) {
        alert("Please select a rating.");
        return;
        }
    
        if (reviewText.trim() === "") {
        alert("Please enter a review.");
        return;
        }
    
        const rating = parseFloat(ratingInput.value);
    
        fetch("http://localhost:8080/reviews", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify({
            author: "your_name",
            text: reviewText,
            rating: rating,
        }),
        })
        .then(response => {
            if (!response.ok) {
            return response.json().then(errorData => {
                const errorMessage = `Server error: ${errorData.message || JSON.stringify(errorData)}`;
                throw new Error(errorMessage);
            }).catch(err => {
                const errorMessage = `HTTP error! status: ${response.status}, details: ${err.message}`;
                throw new Error(errorMessage);
            });
            }
            return response.json();
        })
        .then(data => {
            console.log("Review added:", data);
            displayReviews();
            document.getElementById("reviewText").value = "";
        })
        .catch(error => {
            console.error("Error adding review:", error);
            alert(`Error adding review: ${error.message}`); // Show the actual error
        });
    }
    
    document.getElementById("submitReview").addEventListener("click", submitReview);
    
    displayReviews();
    </script> -->
</body>
</html>